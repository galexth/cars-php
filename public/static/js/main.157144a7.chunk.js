(this.webpackJsonpcars=this.webpackJsonpcars||[]).push([[0],{32:function(t,e){t.exports="data:image/png;base64,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"},38:function(t,e,n){t.exports=n(79)},43:function(t,e,n){},79:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n.n(r),o=n(11),c=n.n(o),i=(n(43),n(1)),u=n(4),l=n(2),s=(n(60),n(61),n(8)),A=n(30),m=n(31),f=n(5),d=n(37),p=n(36),g=n(6),h=n.n(g),v="http://localhost:8000";h.a.defaults.withCredentials=!0;var b={init:function(){return h.a.get("".concat(v,"/car"))},reset:function(){return h.a.delete("".concat(v,"/car"))},place:function(t){return h.a.post("".concat(v,"/car/place"),t)},left:function(){return h.a.put("".concat(v,"/car/left"))},right:function(){return h.a.put("".concat(v,"/car/right"))},move:function(){return h.a.put("".concat(v,"/car/move"))}},w=n(32),E=n.n(w);function N(){var t=Object(i.a)(["\n    transform: ",";\n    position: absolute;\n    left: ",";\n    bottom: ",";\n    transition: left .1s, bottom .1s;\n"]);return N=function(){return t},t}var y=l.a.img(N(),(function(t){return t.transform}),(function(t){return t.left}),(function(t){return t.bottom})),O=function(t){var e=t.transform,n=t.width;return a.a.createElement(y,{transform:"rotate(".concat(e.rotate,"deg)"),left:"".concat(e.left,"px"),bottom:"".concat(e.bottom,"px"),src:E.a,alt:"car",width:n})};function x(){var t=Object(i.a)(["\n    background: rgba(0,0,0,0.1);\n    border: 1px white solid;\n    &:first-child{\n        grid-row: 1 / 1;\n        grid-column: 1 / 1;\n    }\n"]);return x=function(){return t},t}var C=l.a.span(x()),j=function(){return a.a.createElement(C,null)};function B(){var t=Object(i.a)(["\n    position: relative;\n    display: grid;\n    grid-template-columns: repeat(5, minmax(4rem, 1fr));\n    grid-auto-rows: 1fr;\n    margin-bottom:15px;\n    &:before{\n        content: '';\n        width: 0;\n        padding-bottom: 100%;\n        grid-row: 1 / 1;\n        grid-column: 1 / 1;\n    }\n"]);return B=function(){return t},t}for(var k=l.a.div(B()),D=[],R=0;R<25;R++)D.push(a.a.createElement(j,{key:R}));var Z=function(t){var e=t.innerRef;return a.a.createElement(k,{ref:e},D)};function W(){var t=Object(i.a)(["\n    display: block;\n    margin-bottom: 20px;\n"]);return W=function(){return t},t}var Q=l.a.form(W()),K=function(t){return a.a.createElement(Q,t,a.a.createElement("div",{className:"input-group input-group-sm mb-3"},a.a.createElement("div",{className:"input-group-prepend"},a.a.createElement("span",{className:"input-group-text"},"Position(x,y):")),a.a.createElement("input",{type:"text",className:"form-control",name:"x",id:"x",defaultValue:"0"}),a.a.createElement("input",{type:"text",className:"form-control",name:"y",id:"y",defaultValue:"0"}),a.a.createElement("select",{className:"custom-select",name:"direction"},a.a.createElement("option",{defaultValue:"north",value:"north"},"North"),a.a.createElement("option",{value:"east"},"East"),a.a.createElement("option",{value:"south"},"South"),a.a.createElement("option",{value:"west"},"West"))),a.a.createElement("button",{type:"submit",className:"btn btn-success"},"Place"))};function L(){var t=Object(i.a)(["\n    width: 100%;\n    max-height: 300px;\n    border: 1px solid rgba(0,0,0,0.1);\n    text-decoration: none;\n    margin-top: 15px;\n    padding: 10px;\n    overflow: scroll;\n"]);return L=function(){return t},t}var M=l.a.ul(L()),z=function(t){var e=t.log;return a.a.createElement(M,null,e.map((function(t){return a.a.createElement("li",null,"".concat(t.x," : ").concat(t.y," ").concat(t.direction))})))};function S(){var t=Object(i.a)(["\n    position: relative;\n"]);return S=function(){return t},t}function P(){var t=Object(i.a)(["\n    min-width: 400px;\n"]);return P=function(){return t},t}var J=l.a.div(P()),U=l.a.div(S()),V="Place the car first.",q="Wrong direction.",Y=function(t,e){var n={};switch(e.direction){case"north":n.rotate=0;break;case"east":n.rotate=90;break;case"south":n.rotate=180;break;case"west":n.rotate=270;break;default:throw new Error(q)}var r=t.current.getBoundingClientRect().width/5,a=t.current.getBoundingClientRect().height/5;return n.left=r*(e.x+1)-r/2-25,n.bottom=a*(e.y+1)-a/2-25,n},F=function(t){Object(d.a)(n,t);var e=Object(p.a)(n);function n(t){var a;return Object(A.a)(this,n),(a=e.call(this,t)).gridRef=Object(r.createRef)(),a.state={position:null,transform:null,log:[]},a.place=a.place.bind(Object(f.a)(a)),a.move=a.move.bind(Object(f.a)(a)),a.reset=a.reset.bind(Object(f.a)(a)),a.onKeyDown=a.onKeyDown.bind(Object(f.a)(a)),a.onWindowResize=a.onWindowResize.bind(Object(f.a)(a)),a}return Object(m.a)(n,[{key:"componentDidMount",value:function(){var t=this;b.init().then((function(e){var n=e.data;n&&t.setState((function(e){return{position:n,transform:Y(t.gridRef,n),log:[n].concat(Object(s.a)(e.log))}})),document.addEventListener("keydown",t.onKeyDown),window.addEventListener("resize",t.onWindowResize)})).catch((function(t){return u.NotificationManager.error(t.response?t.response.data.error:t.message)}))}},{key:"onWindowResize",value:function(){var t=this.state.position;t&&this.setState({transform:Y(this.gridRef,t)})}},{key:"onKeyDown",value:function(t){switch(t.code){case"ArrowUp":return t.preventDefault(),this.move();case"ArrowLeft":return t.preventDefault(),this.turn("left");case"ArrowRight":return t.preventDefault(),this.turn("right");default:return!1}}},{key:"reset",value:function(){var t=this;this.state.position?b.reset().then((function(){t.setState({position:null,transform:null,log:[]})})):u.NotificationManager.error(V)}},{key:"turn",value:function(t){var e=this;this.state.position?b[t]().then((function(t){var n=t.data;e.setState((function(t){return{position:n,transform:Y(e.gridRef,n),log:[n].concat(Object(s.a)(t.log))}}))})):u.NotificationManager.error(V)}},{key:"move",value:function(){var t=this;this.state.position?b.move().then((function(e){var n=e.data;t.setState((function(e){return{position:n,transform:Y(t.gridRef,n),log:[n].concat(Object(s.a)(e.log))}}))})):u.NotificationManager.error(V)}},{key:"place",value:function(t){var e=this;return t.preventDefault(),b.place({x:parseInt(t.target.x.value,10),y:parseInt(t.target.y.value,10),direction:t.target.direction.value}).then((function(t){var n=t.data;e.setState((function(t){return{position:n,transform:Y(e.gridRef,n),log:[n].concat(Object(s.a)(t.log))}}))})).catch((function(t){return u.NotificationManager.error(t.response?t.response.data.error:t.message)})),!1}},{key:"render",value:function(){var t=this,e=this.state,n=e.position,r=e.transform,o=e.log;return a.a.createElement(J,{className:"row justify-content-sm-center"},a.a.createElement("div",{className:"col col-lg-6"},a.a.createElement("h2",null,"Current position: ",n?"".concat(n.x," : ").concat(n.y," ").concat(n.direction):"place the car"),a.a.createElement(U,null,a.a.createElement(Z,{innerRef:this.gridRef}),r?a.a.createElement(O,{width:50,transform:r}):null)),a.a.createElement("div",{className:"controls col-sm-auto"},a.a.createElement(K,{onSubmit:this.place}),a.a.createElement("div",{className:"btn-group",role:"group"},a.a.createElement("button",{disabled:!n,type:"button",onClick:function(){return t.turn("left")},className:"btn btn-primary"},"\u2190"),a.a.createElement("button",{disabled:!n,type:"button",onClick:function(){return t.turn("right")},className:"btn btn-primary"},"\u2192"),a.a.createElement("button",{disabled:!n,type:"button",onClick:this.move,className:"btn btn-primary"},"\u2191"),a.a.createElement("button",{disabled:!n,type:"button",onClick:this.reset,className:"btn btn-danger"},"Reset")),a.a.createElement(z,{log:o})))}}]),n}(a.a.Component);function H(){var t=Object(i.a)(["\n  text-align: center;\n"]);return H=function(){return t},t}function T(){var t=Object(i.a)(["\n  margin-bottom: 30px;\n"]);return T=function(){return t},t}var I=l.a.header(T()),X=l.a.header(H());var G=function(){return a.a.createElement(X,{className:"container"},a.a.createElement(I,null,a.a.createElement("h1",null,"Cars")),a.a.createElement(F,null),a.a.createElement(u.NotificationContainer,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(G,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[38,1,2]]]);
//# sourceMappingURL=main.157144a7.chunk.js.map