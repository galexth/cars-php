{"version":3,"sources":["car.png","apiClient.js","components/Car.jsx","components/GridItem.jsx","components/Grid.jsx","components/Form.jsx","components/Log.jsx","components/Layout.jsx","App.jsx","serviceWorker.js","index.jsx"],"names":["module","exports","HOST","axios","defaults","withCredentials","init","get","reset","delete","place","position","post","left","put","right","move","CarImage","styled","img","props","transform","bottom","width","rotate","src","car","alt","GridItem","span","Grid","div","grids","i","push","key","innerRef","ref","Form","form","className","type","name","id","defaultValue","value","Log","ul","log","map","item","x","y","direction","Container","GridWrapper","MESSAGE","calculateTransform","el","pos","newCarPosition","Error","current","getBoundingClientRect","height","carWidth","Layout","gridRef","createRef","state","bind","onKeyDown","onWindowResize","api","then","data","setState","prevState","document","addEventListener","window","catch","err","NotificationManager","error","response","message","this","e","code","preventDefault","turn","dir","parseInt","target","Car","onSubmit","role","disabled","onClick","React","Component","Header","header","App","Boolean","location","hostname","match","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister","console"],"mappings":"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","file":"static/js/main.157144a7.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","import axios from 'axios';\n\nconst HOST = 'http://localhost:8000';\naxios.defaults.withCredentials = true;\n\nexport default {\n    init() {\n        return axios.get(`${HOST}/car`);\n    },\n    reset() {\n        return axios.delete(`${HOST}/car`);\n    },\n    place(position) {\n        return axios.post(`${HOST}/car/place`, position);\n    },\n    left() {\n        return axios.put(`${HOST}/car/left`);\n    },\n    right() {\n        return axios.put(`${HOST}/car/right`);\n    },\n    move() {\n        return axios.put(`${HOST}/car/move`);\n    },\n};","import React from 'react';\nimport styled from 'styled-components';\nimport car from '../car.png';\n\nconst CarImage = styled.img`\n    transform: ${props => props.transform};\n    position: absolute;\n    left: ${props => props.left};\n    bottom: ${props => props.bottom};\n    transition: left .1s, bottom .1s;\n`;\n\nexport default ({transform, width}) => {\n    return (\n        <CarImage transform={`rotate(${transform.rotate}deg)`} left={`${transform.left}px`} bottom={`${transform.bottom}px`} src={car} alt=\"car\" width={width} />\n    );\n}","import React from 'react';\nimport styled from 'styled-components';\n\nconst GridItem = styled.span`\n    background: rgba(0,0,0,0.1);\n    border: 1px white solid;\n    &:first-child{\n        grid-row: 1 / 1;\n        grid-column: 1 / 1;\n    }\n`;\n\nexport default () => (<GridItem/>)","import React from 'react';\nimport styled from 'styled-components';\nimport GridItem from './GridItem';\n\nconst Grid = styled.div`\n    position: relative;\n    display: grid;\n    grid-template-columns: repeat(5, minmax(4rem, 1fr));\n    grid-auto-rows: 1fr;\n    margin-bottom:15px;\n    &:before{\n        content: '';\n        width: 0;\n        padding-bottom: 100%;\n        grid-row: 1 / 1;\n        grid-column: 1 / 1;\n    }\n`;\n\nconst grids = [];\nconst gridItems = 5 * 5;\n\nfor (let i = 0; i < gridItems; i++) grids.push(<GridItem key={i} />);\n\nexport default ({innerRef}) => {\n    return (\n        <Grid ref={innerRef}>\n            {grids}\n        </Grid>\n    );\n}","import React from 'react';\nimport styled from 'styled-components';\n\nconst Form = styled.form`\n    display: block;\n    margin-bottom: 20px;\n`;\n\nexport default (props) => {\n    return (\n        <Form {...props} >\n            <div className=\"input-group input-group-sm mb-3\">\n                <div className=\"input-group-prepend\">\n                    <span className=\"input-group-text\">Position(x,y):</span>\n                </div>\n                <input type=\"text\" className=\"form-control\" name=\"x\" id=\"x\" defaultValue=\"0\" />\n                <input type=\"text\" className=\"form-control\" name=\"y\" id=\"y\" defaultValue=\"0\" />\n                <select className=\"custom-select\" name=\"direction\">\n                    <option defaultValue=\"north\" value=\"north\">North</option>\n                    <option value=\"east\">East</option>\n                    <option value=\"south\">South</option>\n                    <option value=\"west\">West</option>\n                </select>\n            </div>\n            <button type=\"submit\" className=\"btn btn-success\">Place</button>\n        </Form>\n    );\n}","import React from 'react';\nimport styled from 'styled-components';\n\nconst Log = styled.ul`\n    width: 100%;\n    max-height: 300px;\n    border: 1px solid rgba(0,0,0,0.1);\n    text-decoration: none;\n    margin-top: 15px;\n    padding: 10px;\n    overflow: scroll;\n`;\n\nexport default ({log}) => {\n    return (\n        <Log>\n            {\n                log.map((item) => (\n                    <li>{`${item.x} : ${item.y} ${item.direction}`}</li>\n                ))\n            }\n        </Log>\n    );\n}","import React, { createRef } from 'react';\nimport styled from 'styled-components';\nimport { NotificationManager } from 'react-notifications';\nimport api from '../apiClient';\nimport Car from './Car';\nimport Grid from './Grid';\nimport Form from './Form';\nimport Log from './Log';\n\nconst Container = styled.div`\n    min-width: 400px;\n`;\n\nconst GridWrapper = styled.div`\n    position: relative;\n`;\n\nconst carWidth = 50;\n\nconst MESSAGE = {\n    carIsNotReady: 'Place the car first.',\n    wrongDirection: 'Wrong direction.',\n};\n\nconst calculateTransform = (el, pos) => {\n    const newCarPosition = {};\n\n    switch (pos.direction) {\n        case 'north':\n            newCarPosition.rotate = 0;\n            break;\n        case 'east':\n            newCarPosition.rotate = 90;\n            break;\n        case 'south':\n            newCarPosition.rotate = 180;\n            break;\n        case 'west':\n            newCarPosition.rotate = 270;\n            break;\n        default: throw new Error(MESSAGE.wrongDirection);\n    }\n\n    const width = el.current.getBoundingClientRect().width / 5;\n    const height = el.current.getBoundingClientRect().height / 5;\n\n    newCarPosition.left = (width * (pos.x + 1)) - (width / 2) - carWidth / 2;\n    newCarPosition.bottom = (height * (pos.y + 1)) - (height / 2) - carWidth / 2;\n\n    return newCarPosition;\n};\n\nclass Layout extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.gridRef = createRef();\n\n        this.state = {\n            position: null,\n            transform: null,\n            log: [],\n         };\n\n        this.place = this.place.bind(this);\n        this.move = this.move.bind(this);\n        this.reset = this.reset.bind(this);\n        this.onKeyDown = this.onKeyDown.bind(this);\n        this.onWindowResize = this.onWindowResize.bind(this);\n    }\n\n    componentDidMount(){\n        api.init().then(({ data }) => {\n            if (data) {\n                this.setState((prevState) => ({\n                    position: data,\n                    transform: calculateTransform(this.gridRef, data),\n                    log: [data, ...prevState.log],\n                }));\n            }\n\n            document.addEventListener('keydown', this.onKeyDown);\n            window.addEventListener('resize', this.onWindowResize);\n        }).catch(err => NotificationManager.error(err.response ? err.response.data.error : err.message));\n    }\n\n    onWindowResize() {\n        const {position} = this.state;\n\n        if (position) {\n            this.setState({ transform: calculateTransform(this.gridRef, position) });\n        }\n    }\n\n    onKeyDown(e) {\n        switch (e.code) {\n            case 'ArrowUp':\n                e.preventDefault();\n                return this.move();\n            case 'ArrowLeft':\n                e.preventDefault();\n                return this.turn('left');\n            case 'ArrowRight':\n                e.preventDefault();\n                return this.turn('right');\n            default: return false;\n        }\n    }\n\n    reset() {\n        if (! this.state.position) {\n            NotificationManager.error(MESSAGE.carIsNotReady);\n            return;\n        }\n\n        api.reset().then(() => {\n            this.setState({\n                position: null,\n                transform: null,\n                log: [],\n            });\n        });\n    }\n\n    turn(dir) {\n        if (! this.state.position) {\n            NotificationManager.error(MESSAGE.carIsNotReady);\n            return;\n        }\n\n        api[dir]().then(({ data }) => {\n            this.setState((prevState) => ({\n                position: data,\n                transform: calculateTransform(this.gridRef, data),\n                log: [data, ...prevState.log],\n            }));\n        });\n    }\n\n    move() {\n        if (! this.state.position) {\n            NotificationManager.error(MESSAGE.carIsNotReady);\n            return;\n        }\n\n        api.move().then(({ data }) => {\n            this.setState((prevState) => ({\n                position: data,\n                transform: calculateTransform(this.gridRef, data),\n                log: [data, ...prevState.log],\n            }));\n        });\n    }\n\n    place(e) {\n        e.preventDefault();\n\n        api.place({\n            x: parseInt(e.target.x.value, 10),\n            y: parseInt(e.target.y.value, 10),\n            direction: e.target.direction.value,\n        }).then(({data}) => {\n            this.setState((prevState) => ({\n                position: data,\n                transform: calculateTransform(this.gridRef, data),\n                log: [data, ...prevState.log],\n            }));\n        }).catch(err => NotificationManager.error(err.response ? err.response.data.error : err.message));\n\n        return false;\n    }\n\n    render() {\n        const { position, transform, log } = this.state;\n\n        return (\n            <Container className=\"row justify-content-sm-center\">\n                <div className=\"col col-lg-6\">\n                    <h2>Current position: {position ? `${position.x} : ${position.y} ${position.direction}` : 'place the car'}</h2>\n                    <GridWrapper>\n                        <Grid innerRef={this.gridRef} />\n                        {transform ? <Car width={carWidth} transform={transform} /> : null}\n                    </GridWrapper>\n                </div>\n                <div className=\"controls col-sm-auto\">\n                    <Form onSubmit={this.place} />\n                    <div className=\"btn-group\" role=\"group\">\n                        <button disabled={! position} type=\"button\" onClick={() => this.turn('left')} className=\"btn btn-primary\">&#8592;</button>\n                        <button disabled={! position} type=\"button\" onClick={() => this.turn('right')} className=\"btn btn-primary\">&#8594;</button>\n                        <button disabled={! position} type=\"button\" onClick={this.move} className=\"btn btn-primary\">&#8593;</button>\n                        <button disabled={! position} type=\"button\" onClick={this.reset} className=\"btn btn-danger\">Reset</button>\n                    </div>\n                    <Log log={log} />\n                </div>\n            </Container>\n        );\n    }\n\n}\n\nexport default Layout;","import React from 'react';\nimport { NotificationContainer } from 'react-notifications';\nimport styled from 'styled-components';\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'react-notifications/lib/notifications.css';\nimport Layout from './components/Layout';\n\nconst Header = styled.header`\n  margin-bottom: 30px;\n`;\n\nconst Container = styled.header`\n  text-align: center;\n`;\n\nfunction App() {\n  return (\n    <Container className=\"container\">\n      <Header><h1>Cars</h1></Header>\n      <Layout />\n      <NotificationContainer />\n    </Container>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}